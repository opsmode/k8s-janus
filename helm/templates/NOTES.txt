⛩  K8s-Janus deployed successfully!

  Release:   {{ .Release.Name }}
  Namespace: {{ .Values.janus.namespace }}
  Version:   {{ .Chart.AppVersion }}

{{- if .Values.remote.enabled }}

  Remote agent mode — ServiceAccount {{ .Values.remote.serviceAccountName }}
  is ready in namespace {{ .Values.remote.namespace }}.

  Register this cluster using the Setup Wizard on your central instance,
  or run setup.sh locally:

    ./scripts/setup.sh

{{- else }}

  ── Next: Run the Setup Wizard ──────────────────────────────────

  Port-forward the web UI:

    kubectl port-forward svc/{{ include "janus.webui.name" . }} \
      -n {{ .Values.janus.namespace }} 8080:80

  Then open in your browser:

    http://localhost:8080/setup

  Upload your kubeconfig, select your clusters, and the wizard
  configures everything automatically. The controller starts once
  setup completes.

  ── Access ──────────────────────────────────────────────────────
{{- if eq .Values.service.type "LoadBalancer" }}

  After setup, get the external URL:

    kubectl get svc {{ include "janus.webui.name" . }} \
      -n {{ .Values.janus.namespace }} \
      -o jsonpath='{.status.loadBalancer.ingress[0].ip}'

{{- else if eq .Values.service.type "NodePort" }}

  After setup, access via NodePort:

    export NODE_IP=$(kubectl get nodes -o jsonpath='{.items[0].status.addresses[0].address}')
    export NODE_PORT=$(kubectl get svc {{ include "janus.webui.name" . }} \
      -n {{ .Values.janus.namespace }} \
      -o jsonpath='{.spec.ports[0].nodePort}')
    echo "http://$NODE_IP:$NODE_PORT"

{{- else if .Values.ingress.enabled }}

  After setup, access via Ingress:

    https://{{ .Values.ingress.host }}

{{- end }}

  Tail logs:

    kubectl logs -f deploy/{{ include "janus.controller.name" . }} -n {{ .Values.janus.namespace }}
    kubectl logs -f deploy/{{ include "janus.webui.name" . }} -n {{ .Values.janus.namespace }}

{{- end }}
